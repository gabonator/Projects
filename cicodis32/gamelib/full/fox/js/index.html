<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
</head>
<body>
<canvas id="canvas" style="position:relative; left:120px; width:80%; max-width:100vw; aspect-ratio: 640/400;"></canvas><br>
<script src="ega.js"></script>
<script src="cpu.js"></script>
<script src="controls.js"></script>
<script src="fflate.js"></script>
<script src="fox.js"></script>

<script>
let loadAddress;
let archive = {};

Promise.resolve()
  .then(() => fetch("fox.zip"))
  .then(x => x.arrayBuffer())
  .then(x => archive = fflate.unzipSync(new Uint8Array(x)))
  .then(() => {
    init();
    let seq = start();
    setInterval(()=>
    {
      seq.next();
      display();
    }, 30);
  })

</script>
</body>
</html>
